<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Upgrade Module</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
}

.simple-table-header {
	background: rgb(247, 246, 243);
	color: black;
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="07197f25-7982-4f04-89c3-99c611ee1fe8" class="page sans"><header><div class="page-header-icon undefined"><span class="icon">⬆️</span></div><h1 class="page-title">Upgrade Module</h1></header><div class="page-body"><p id="96e954e7-aec1-4ea9-8483-7e49c28c9d7d" class="">Upgrade Module is responsible for ensuring smooth transition between various <code>sekai</code> iterations while preserving current chain state. The upgrade process is managed by the KIRA governance set with permissions to propose and vote on the &quot;Upgrade Plan&quot;. The upgrade plan is set of instruction in the JSON format hosted on-chain. Upgrade Plan contains informations how and when validators should proceed with the upgrade. One of the extra features of the Upgrade Module is informing new network participants what are the software resources necessary to join the network, thus making the process of acquiring essential references and checksums fully trustless.</p><p id="02195660-fe69-4b1d-8f2d-3784dbe39ece" class="">Upgrades can take place as either hard forks or soft forks. In case of hard forks its expected that new blockchain application is incompatible with current chain state storage and thus requires to launch from a new genesis with new chain-id to prevent double signing. In case of soft forks is expected that there is no impact on the chain-state thus network can continue with the same chain-id without need for generating new genesis.</p><h2 id="ef3ace3d-e42d-4ee4-a950-61f99a02d729" class="">Plan Example</h2><pre id="e81ae618-0271-4b1e-8627-046ca9602c7c" class="code"><code>{
  &quot;plan&quot;: {
    &quot;max_enrolment_duration&quot;: &quot;&lt;integer&gt;&quot;, // expected duration od upgrade in seconds
    &quot;name&quot;: &quot;&lt;string&gt;&quot;, // name of the plan
    &quot;new_chain_id&quot;: &quot;&lt;string&gt;&quot;, // identifier of the new chain
    &quot;old_chain_id&quot;: &quot;&lt;string&gt;&quot;, // identifier of the current chain
    &quot;reboot_required&quot;: &lt;boolean&gt;, // defines if nodes require OS reboot
    &quot;resources&quot;: [
      {
        &quot;checkout&quot;: &quot;&lt;string&gt;&quot;, // git branch or commit checkout
        &quot;checksum&quot;: &quot;&lt;string&gt;&quot;, // expected SHA256 hash of the resource
        &quot;git&quot;: &quot;&lt;string&gt;&quot;, // URL to resource or git branch
        &quot;id&quot;: &quot;&lt;string&gt;&quot; // unique identifier of the resource
      }, { ... }, ...
    ],
    &quot;rollback_checksum&quot;: &quot;&lt;string&gt;&quot;, // checksum to use when rolling back the chain
    &quot;skip_handler&quot;: &lt;boolean&gt;, // defines if on-chain handlers of the upgrade process should be skipped
    &quot;upgrade_time&quot;: &quot;&lt;integer&gt;&quot; // unix timestamp of the exact time the update should be executed
  }
}</code></pre><h2 id="b56d2542-a997-4cdc-844e-18bc39800092" class="">Plan Types</h2><p id="3f7a7c71-21b5-488d-b1ec-fe075b98b537" class="">Upgrade process is an off-chain mechanism executed by the daemon service of the KIRA Manager (KM). Using KM is not mandatory thus any validator can setup their own dedicated CD/CI pipeline tools such as Jenkins or Teamcity. Informations about upcoming upgrades from the following two INTERX endpoints:</p><ul id="c9e9abd9-119a-448a-b7b3-f203d685b8f4" class="bulleted-list"><li style="list-style-type:disc"><a href="https://testnet-rpc.kira.network/api/kira/upgrade/next_plan">&lt;ip&gt;:11000/api/kira/upgrade/next_plan</a></li></ul><ul id="8203e9dc-baa0-4006-99c9-31b4613df992" class="bulleted-list"><li style="list-style-type:disc"><a href="https://testnet-rpc.kira.network/api/kira/upgrade/current_plan">&lt;ip&gt;:11000/api/kira/upgrade/current_plan</a></li></ul><p id="f9fa828c-9bb4-4a2e-b916-38c0516649d1" class="">The “current” plan contains informations &amp; resources regarding current release while the “next” plan contains informations &amp; resources regarding upcoming release. It is further possible to resource references (github links &amp; branches) specified in the “current” plan endpoint of a trusted node while joining the the network for the very first time. </p><h2 id="789ae133-6ea0-46e2-921d-485a4b250c68" class="">Manual Upgrades</h2><p id="e802cb6b-226f-429f-896a-966639618dcf" class="">If KM is not used and new genesis file is required (hard fork), node operator must create it by first exporting genesis at the height where network stopped (node daemon should be shut down) and then passing the  it through a dedicated <code>new-genesis-from-exported</code> command. It should be noted that the <code>sekaid</code> application must be upgraded prior to executing  <code>new-genesis-from-exported</code> command, otherwise application might not be aware how to interpret and convert old genesis to the new </p><pre id="66868afe-669a-4b5c-861b-7d22fd7ef320" class="code code-wrap"><code>SEKAI=&quot;/home/go/src/github.com/kiracore/sekai&quot;
EXPORTED_GENESIS=&quot;/tmp/exported-genesis.json&quot;
NEW_GENESIS=&quot;/tmp/new-genesis.json&quot;

# cleanup old files
rm -fv $EXPORTED_GENESIS $NEW_GENESIS

#ensure sekaid process is killed gracefully
pkill -15 sekaid || echoWarn &quot;WARNING: Failed to kill sekaid, process might already be dead&quot;

# export current genesis
sekaid export --home=$SEKAID_HOME &gt; $EXPORTED_GENESIS

# update repository
cd $SEKAI
git fetch --all
git checkout $BRANCH_TO_CHECKOUT
make install

# convert exported genesis to a new compatible version
sekaid new-genesis-from-exported $EXPORTED_GENESIS $NEW_GENESIS</code></pre><blockquote id="63c78a56-0bc1-4b9c-aec1-d712d252c564" class=""><em>NOTE: Proposals can be raised using via CLI </em><em><code>sekaid tx customgov proposals</code></em><em> command. The </em><em><code>--help</code></em><em> flag can be used to discover further options. To raise a certain proposal a dedicated permission is required. For example to submit </em><code>SoftwareUpgrade</code> message a <code>PermCreateSoftwareUpgradeProposal (28)</code> permission must be assigned to the account creating said proposal. For example to vote on the <code>SoftwareUpgrade</code> a <code>PermVoteSoftwareUpgradeProposal (29)</code> is needed. To find available proposal types and corresponding to them permissions required to submit or vote see <a href="Proposals%20868493592f0f4307986edfb5acd415de.html">Proposals</a> documentation.</blockquote><h1 id="976c7163-f8cd-4137-b3c9-b319ad123e8a" class="">Commands Examples</h1><p id="a3560582-d106-413c-b7ff-3f9ea7dd13eb" class=""><strong>Proposing Upgrade Plan</strong></p><pre id="8c629a2e-ba8c-44c6-afc8-32d48cb6394f" class="code"><code># CLI
UPGRADE_NAME_TMP=&quot;upgrade-XXX&quot; &amp;&amp; UPGRADE_IN_SECONDS=900 &amp;&amp; NEW_CHAIN_ID=&quot;mynewchain-2&quot; \
INFRA_RES_TMP=&quot;{\&quot;id\&quot;:\&quot;kira\&quot;,\&quot;git\&quot;:\&quot;https://github.com/KiraCore/kira\&quot;,\&quot;checkout\&quot;:\&quot;testnet\&quot;,\&quot;checksum\&quot;:\&quot;\&quot;}&quot; &amp;&amp; \
SEKAI_RES_TMP=&quot;{\&quot;id\&quot;:\&quot;sekai\&quot;,\&quot;git\&quot;:\&quot;https://github.com/KiraCore/sekai\&quot;,\&quot;checkout\&quot;:\&quot;master\&quot;,\&quot;checksum\&quot;:\&quot;\&quot;}&quot; &amp;&amp; \
INTRX_RES_TMP=&quot;{\&quot;id\&quot;:\&quot;interx\&quot;,\&quot;git\&quot;:\&quot;https://github.com/KiraCore/sekai\&quot;,\&quot;checkout\&quot;:\&quot;master\&quot;,\&quot;checksum\&quot;:\&quot;\&quot;}&quot; &amp;&amp; \
sekaid tx upgrade proposal-set-plan \
 --name=&quot;$UPGRADE_NAME_TMP&quot; \
 --instate-upgrade=false \
 --skip-handler=true \
 --resources=&quot;[${INFRA_RES_TMP},${SEKAI_RES_TMP},${INTRX_RES_TMP}]&quot; \
 --min-upgrade-time=$(($(date -d &quot;$(date)&quot; +&quot;%s&quot;) + $UPGRADE_IN_SECONDS)) \
 --old-chain-id=&quot;$NETWORK_NAME&quot; \
 --new-chain-id=&quot;$NEW_CHAIN_ID&quot; \
 --rollback-memo=&quot;${UPGRADE_NAME_TMP}-roll&quot; \
 --max-enrollment-duration=60 \
 --upgrade-memo=&quot;This is a hard fork upgrade example&quot; \
 --from=validator --keyring-backend=test --home=$SEKAID_HOME --chain-id=$NETWORK_NAME --fees=100ukex --log_format=json --output=json --yes</code></pre><p id="6f897577-cc96-436b-8e59-0cdae60f4561" class=""><strong>Query Upgrade Plans</strong></p><pre id="d3435ade-2d5c-4cc9-bb1b-9303ec42577c" class="code"><code># Current Upgrade Plan
# CLI
sekaid query upgrade current-plan --output=json --chain-id=$NETWORK_NAME --home=$SEKAID_HOME | jq
# INTERX
curl &quot;&lt;ip&gt;:11000/api/kira/upgrade/current_plan&quot; | jq
# KM
showCurrentPlan

# Next Upgrade Plan
# CLI
sekaid query upgrade next-plan --output=json --chain-id=$NETWORK_NAME --home=$SEKAID_HOME | jq
# INTERX
curl &quot;&lt;ip&gt;:11000/api/kira/upgrade/next_plan&quot; | jq
# KM
showNextPlan</code></pre><p id="01437ed3-3910-4154-af49-a09b4257f3c2" class="">
</p></div></article></body></html>